(this["webpackJsonpphone-book"]=this["webpackJsonpphone-book"]||[]).push([[0],{40:function(t,e,a){},81:function(t,e,a){"use strict";a.r(e);var n=a(1),o=a.n(n),c=a(13),i=a.n(c),r=(a(39),a(40),function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,96)).then((function(e){var a=e.getCLS,n=e.getFID,o=e.getFCP,c=e.getLCP,i=e.getTTFB;a(t),n(t),o(t),c(t),i(t)}))}),s=a(7),l=a(82),d=a(83),j=a(11),g=a.n(j),b=a(2),O=function(t){var e=t.organizations.map((function(e,a){return Object(b.jsxs)("tr",{children:[Object(b.jsxs)("td",{children:[" ",e.orgName]}),Object(b.jsxs)("td",{children:[" ",e.email]}),Object(b.jsxs)("td",{children:[Object(b.jsx)(l.a,{color:"primary",size:"sm",className:"mr-2",onClick:function(){t.setDisplayContactTable(!1),t.setOrgId(e.orgId),t.setOrganizationName(e.orgName),console.log(e.orgName)},children:"View Contacts"}),Object(b.jsx)(l.a,{color:"success",size:"sm",className:"mr-2",onClick:function(){t.setOrgId(e.orgId),t.setOrganizationName(e.orgName),t.setOrganizationContact(e.email),t.toggleEditOrgModal((function(t){return!t}))},children:"Edit"}),Object(b.jsx)(l.a,{color:"danger",size:"sm",onClick:function(){console.log("delete org "+e.orgId),alert("All Contacts under this organiztion will be deleted!"),g.a.delete("http://springbootawscontactbook-env.eba-iipbxdjb.us-east-2.elasticbeanstalk.com/deletePeopledByOrg/"+e.orgId).then((function(a){a.data&&g.a.delete("http://springbootawscontactbook-env.eba-iipbxdjb.us-east-2.elasticbeanstalk.com/deleteOrg/"+e.orgId).then((function(e){t.setIsOrgUpdated(!0),alert("Organization deleted!")}))}))},children:"Delete"})]})]},e.orgId)}));return Object(b.jsxs)(d.a,{className:"text-center mt-4",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Organization Name"}),Object(b.jsx)("th",{children:"Contact"}),Object(b.jsx)("th",{children:"Actions"})]})}),Object(b.jsx)("tbody",{children:e})]})},u=a(84),m=a(85),h=a(86),N=a(87),C=a(88),x=function(t){return Object(b.jsxs)(u.a,{color:"dark",dark:!0,expand:"md",sticky:"top",children:[Object(b.jsx)(m.a,{href:"/",children:"Contact Book"}),Object(b.jsxs)(h.a,{className:"mr-auto",navbar:!0,children:[Object(b.jsx)(N.a,{className:"ml-5",children:Object(b.jsx)(C.a,{href:"/",children:"Home"})}),Object(b.jsx)(N.a,{children:Object(b.jsx)(C.a,{onClick:function(){t.toggleNewOrganizationModal((function(e){return console.log(e),t.setOrganizationName(""),t.setOrganizationContact(""),!e}))},children:"Add Organization"})}),Object(b.jsx)(N.a,{className:"cursor-normalizer",children:Object(b.jsx)(C.a,{onClick:function(){t.toggleNewContactModal((function(t){return console.log(t),!t}))},children:"Add Contact"})})]})]})},p=a(95),f=a(89),z=a(90),v=a(91),k=a(92),M=a(93),w=a(94),I=function(t){return Object(b.jsxs)(p.a,{isOpen:t.newOrganizationModal,toggle:function(){t.toggleNewOrganizationModal(!1)},children:[Object(b.jsx)(f.a,{toggle:function(){t.toggleNewOrganizationModal(!1)},children:"Add a New Organization"}),Object(b.jsxs)(z.a,{children:[Object(b.jsxs)(v.a,{children:[Object(b.jsx)(k.a,{for:"OrganizationName",children:"Organization Name"}),Object(b.jsx)(M.a,{id:"OrganizationName",value:t.organizationName,onChange:function(e){t.setOrganizationName(e.target.value)}})]}),Object(b.jsxs)(v.a,{children:[Object(b.jsx)(k.a,{for:"OrgContactNumber",children:"Organization E-Mail"}),Object(b.jsx)(M.a,{id:"OrgContactNumber",value:t.organizationContact,onChange:function(e){t.setOrganizationContact(e.target.value)}})]})]}),Object(b.jsxs)(w.a,{children:[Object(b.jsx)(l.a,{color:"primary",onClick:function(){""===t.organizationName||""===t.organizationContact?alert("Please fill all the fields!"):(console.log("Clicked"),t.addOrganization())},children:"Add Organization"}),Object(b.jsx)(l.a,{color:"secondary",onClick:function(){t.toggleNewOrganizationModal(!1),t.setOrganizationName(""),t.setOrganizationContact("")},children:"Cancel"})]})]})},S=a(16),E=function(t){var e=t.organizations.map((function(t){return{value:t.orgId,label:t.orgName}})),a=Object(n.useState)(!1),o=Object(s.a)(a,2),c=o[0],i=o[1];return Object(b.jsxs)(p.a,{isOpen:t.newContactModal,toggle:function(){t.toggleNewContactModal(!1)},children:[Object(b.jsx)(f.a,{toggle:function(){t.toggleNewContactModal(!1)},children:"Add a New Contact"}),Object(b.jsxs)(z.a,{children:[Object(b.jsxs)(v.a,{children:[Object(b.jsx)(k.a,{for:"Name",children:"People Name"}),Object(b.jsx)(M.a,{id:"Name",value:t.contactName,onChange:function(e){t.setContactName(e.target.value)}})]}),Object(b.jsxs)(v.a,{children:[Object(b.jsx)(k.a,{for:"exampleSelect",children:"Select Organization"}),Object(b.jsx)(S.a,{name:"org",options:e,searchable:!1,onChange:function(e){console.log("e"+e.value),t.setOrgId(e.value)}})]}),Object(b.jsxs)(v.a,{children:[Object(b.jsx)(k.a,{for:"ContactNumber",children:"People Contact Number"}),Object(b.jsx)(M.a,{id:"ContactNumber",value:t.contactNumber,onChange:function(e){t.setContactNumber(e.target.value),i(!0)}})]})]}),Object(b.jsxs)(w.a,{children:[Object(b.jsx)(l.a,{color:"primary",onClick:function(){""!==t.contactName&&c&&""!==t.contactNumber?(console.log("Clicked"),t.addContact(),t.setContactName(""),t.setOrganizationName(""),t.setContactNumber("")):alert("Please fill all the fields!")},children:"Add Contact"}),Object(b.jsx)(l.a,{color:"secondary",onClick:function(){t.toggleNewContactModal(!1),t.setContactName(""),t.setOrganizationName(""),t.setContactNumber("")},children:"Cancel"})]})]})},y=function(t){var e=t.contacts.map((function(e){return console.log("contact id"+e.pid),Object(b.jsxs)("tr",{children:[Object(b.jsxs)("td",{children:[" ",e.peopleName]}),Object(b.jsxs)("td",{children:[" ",e.contactNo]}),Object(b.jsxs)("td",{children:[" ",e.organization.orgName]}),Object(b.jsxs)("td",{children:[Object(b.jsx)(l.a,{color:"success",size:"sm",className:"mr-2",onClick:function(){t.setContactName(e.peopleName),t.setContactNumber(e.contactNo),t.setOrganizationName(e.organization.orgName),t.setContactId(e.pid),t.toggleEditContactModal((function(t){return console.log(t),!t}))},children:"Edit"}),Object(b.jsx)(l.a,{color:"danger",size:"sm",onClick:function(){console.log("delete org "+e.pid),g.a.delete("http://springbootawscontactbook-env.eba-iipbxdjb.us-east-2.elasticbeanstalk.com/deletePeople/"+e.pid).then((function(e){e.data&&(t.setIsUpdated(!0),alert("People Contact deleted!"))}))},children:"Delete"})]})]},e.pid)}));return Object(b.jsxs)(d.a,{className:"text-center",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"People Name"}),Object(b.jsx)("th",{children:"People Phone Number"}),Object(b.jsx)("th",{children:"Organization"}),Object(b.jsx)("th",{children:"Actions"})]})}),Object(b.jsx)("tbody",{children:e})]})},P=function(t){var e=t.organizations.map((function(t){return{value:t.orgId,label:t.orgName}}));return Object(b.jsxs)(p.a,{isOpen:t.editContactModal,toggle:function(){t.toggleEditContactModal(!1)},children:[Object(b.jsx)(f.a,{toggle:function(){t.toggleEditContactModal(!1)},children:"Edit a New Contact"}),Object(b.jsxs)(z.a,{children:[Object(b.jsxs)(v.a,{children:[Object(b.jsx)(k.a,{for:"Name",children:"Name"}),Object(b.jsx)(M.a,{id:"Name",value:t.contactName,onChange:function(e){t.setContactName(e.target.value)}})]}),Object(b.jsxs)(v.a,{children:[Object(b.jsx)(k.a,{for:"exampleSelect",children:"Select Organization"}),Object(b.jsx)(S.a,{name:"vehicle",options:e,placeholder:t.organizationName,searchable:!1,onChange:function(e){console.log("e"+e.value),t.setOrgId(e.value)}})]}),Object(b.jsxs)(v.a,{children:[Object(b.jsx)(k.a,{for:"ContactNumber",children:"Contact Number"}),Object(b.jsx)(M.a,{id:"ContactNumber",value:t.contactNumber,onChange:function(e){t.setContactNumber(e.target.value)}})]})]}),Object(b.jsxs)(w.a,{children:[Object(b.jsx)(l.a,{color:"primary",onClick:function(){console.log("Clicked"),""===t.contactName||""===t.contactNumber?alert("Please fill all the fields!"):(console.log("Clicked"),t.updateContact())},children:"Update"}),Object(b.jsx)(l.a,{color:"secondary",onClick:function(){t.toggleEditContactModal(!1)},children:"Cancel"})]})]})},A=function(t){var e=Object(n.useState)(""),a=Object(s.a)(e,2),c=a[0],i=a[1],r=Object(n.useState)(""),l=Object(s.a)(r,2),d=l[0],j=l[1],O=Object(n.useState)(""),u=Object(s.a)(O,2),m=u[0],h=u[1],N=Object(n.useState)([]),C=Object(s.a)(N,2),x=C[0],p=C[1],f=Object(n.useState)(!0),z=Object(s.a)(f,2),v=z[0],k=z[1],M=Object(n.useState)(""),w=Object(s.a)(M,2),I=w[0],S=w[1],E=Object(n.useState)(!1),A=Object(s.a)(E,2),F=A[0],D=A[1],U=Object(n.useState)(!1),T=Object(s.a)(U,2),B=T[0],J=T[1],L=Object(n.useState)(""),H=Object(s.a)(L,2),V=H[0],q=H[1],G=Object(n.useState)(!1),K=Object(s.a)(G,2),Q=K[0],R=K[1];Object(n.useEffect)((function(){W()}),[]),Object(n.useEffect)((function(){F&&(W(),D(!1))}),[F]),Object(n.useEffect)((function(){t.newContactModal||t.displayContactTable||W()}),[t.newContactModal]);var W=function(){var e=t.orgId;q(e);var a="http://springbootawscontactbook-env.eba-iipbxdjb.us-east-2.elasticbeanstalk.com/getPeopleByOrgId/"+e;g.a.get(a).then((function(t){0===t.data.length?R(!0):R(!1),console.log(t.data),p(t.data)}))};return Object(b.jsxs)(o.a.Fragment,{children:[Object(b.jsx)(P,{editContactModal:B,toggleEditContactModal:J,contactName:c,setContactName:i,organizationName:d,setOrganizationName:j,contactNumber:m,setContactNumber:h,updateContact:function(){var t={pid:I,peopleName:c,contactNo:m,organization:{orgId:V}};g.a.post("http://springbootawscontactbook-env.eba-iipbxdjb.us-east-2.elasticbeanstalk.com/peopleUpdate",t).then((function(t){t.data.pid&&(alert("Data Added SuccessFully"),D(!0),J(!1))}))},organizations:t.organizations,setOrganizations:t.setOrganizations,setOrgId:q}),v?Q?Object(b.jsx)("h4",{children:"No Data Available"}):Object(b.jsx)(y,{className:" mt-4",contacts:x,setContactId:S,setDisplayContactTable:k,toggleEditContactModal:J,contactName:c,setContactName:i,organizationName:d,setOrganizationName:j,contactNumber:m,setContactNumber:h,orgId:V,setOrgId:q,setIsUpdated:D}):null]})},F=function(t){return Object(b.jsx)(o.a.Fragment,{children:Object(b.jsxs)(p.a,{isOpen:t.editOrgModal,toggle:function(){t.toggleEditOrgModal(!1)},children:[Object(b.jsx)(f.a,{toggle:function(){t.toggleEditOrgModal(!1)},children:"Edit Organization"}),Object(b.jsxs)(z.a,{children:[Object(b.jsxs)(v.a,{children:[Object(b.jsx)(k.a,{for:"OrganizationName",children:"Organization Name"}),Object(b.jsx)(M.a,{id:"OrganizationName",value:t.organizationName,onChange:function(e){t.setOrganizationName(e.target.value)}})]}),Object(b.jsxs)(v.a,{children:[Object(b.jsx)(k.a,{for:"OrgContactNumber",children:"Organization Contact Email"}),Object(b.jsx)(M.a,{id:"OrgContactNumber",value:t.organizationContact,onChange:function(e){t.setOrganizationContact(e.target.value)}})]})]}),Object(b.jsxs)(w.a,{children:[Object(b.jsx)(l.a,{color:"primary",onClick:function(){console.log("Clicked"),""===t.organizationName||""===t.organizationContact?alert("Please fill all the fields!"):(console.log("Clicked"),t.updateOrganization())},children:"Update"}),Object(b.jsx)(l.a,{color:"secondary",onClick:function(){t.toggleEditOrgModal(!1)},children:"Cancel"})]})]})})},D=function(t){var e=Object(n.useState)(!1),a=Object(s.a)(e,2),c=a[0],i=a[1],r=Object(n.useState)(!1),l=Object(s.a)(r,2),d=l[0],j=l[1],u=Object(n.useState)(""),m=Object(s.a)(u,2),h=m[0],N=m[1],C=Object(n.useState)(""),p=Object(s.a)(C,2),f=p[0],z=p[1],v=Object(n.useState)([]),k=Object(s.a)(v,2),M=k[0],w=k[1],S=Object(n.useState)(!1),y=Object(s.a)(S,2),P=y[0],D=y[1],U=Object(n.useState)(""),T=Object(s.a)(U,2),B=T[0],J=T[1],L=Object(n.useState)(""),H=Object(s.a)(L,2),V=H[0],q=H[1],G=Object(n.useState)(""),K=Object(s.a)(G,2),Q=K[0],R=K[1],W=Object(n.useState)(!0),X=Object(s.a)(W,2),Y=X[0],Z=X[1],$=Object(n.useState)(!1),_=Object(s.a)($,2),tt=_[0],et=_[1];Object(n.useEffect)((function(){at()}),[]),Object(n.useEffect)((function(){P&&(at(),D(!1))}),[P]);var at=function(){g.a.get("http://springbootawscontactbook-env.eba-iipbxdjb.us-east-2.elasticbeanstalk.com/getAllOrganization").then((function(t){w(t.data),console.log(t.data)}))};return Object(b.jsxs)(o.a.Fragment,{children:[Object(b.jsx)(x,{toggleNewOrganizationModal:j,toggleNewContactModal:i,setOrganizationName:N,setOrganizationContact:z}),Object(b.jsx)(I,{newOrganizationModal:d,toggleNewOrganizationModal:j,organizationName:h,setOrganizationName:N,organizationContact:f,setOrganizationContact:z,addOrganization:function(){console.log("orgName"+h);var t={orgName:h,email:f};g.a.post("http://springbootawscontactbook-env.eba-iipbxdjb.us-east-2.elasticbeanstalk.com/addOrganization",t).then((function(t){t.data.orgId&&(alert("Contact Created!!"),D(!0)),N(""),z(""),j(!1)}))}}),Object(b.jsx)(E,{newContactModal:c,toggleNewContactModal:i,contactName:V,setContactName:q,organizationName:h,setOrganizationName:N,contactNumber:Q,setContactNumber:R,addContact:function(){var t={people:{peopleName:V,contactNo:Q,organization:{orgId:B}}};g.a.post("http://springbootawscontactbook-env.eba-iipbxdjb.us-east-2.elasticbeanstalk.com/addPeople",t).then((function(t){t.data.pid&&(alert("Contact Created!"),i(!1))}))},organizations:M,setOrganizations:w,setOrgId:J}),Object(b.jsx)(F,{editOrgModal:tt,toggleEditOrgModal:et,organizationName:h,setOrganizationName:N,organizationContact:f,setOrganizationContact:z,updateOrganization:function(){var t={orgId:B,orgName:h,email:f};g.a.post("http://springbootawscontactbook-env.eba-iipbxdjb.us-east-2.elasticbeanstalk.com/orgUpdate",t).then((function(t){t.data.orgId&&(alert("Contact Updated!"),et(!1),D(!0))}))}}),Y?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h4",{className:"mt-3",children:Object(b.jsx)("center",{children:"Organization Details"})}),Object(b.jsx)(O,{organizationContact:f,setOrganizationContact:z,organizations:M,setOrganizations:w,organizationName:h,setOrganizationName:N,orgId:B,setOrgId:J,setIsOrgUpdated:D,displayContactTable:Y,setDisplayContactTable:Z,toggleEditOrgModal:et})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("h4",{className:"mt-3 text-center",children:[h," People Contacts"]}),Object(b.jsx)(A,{orgId:B,organizations:M,setOrganizations:w,newContactModal:c,displayContactTable:Y})]})]})};i.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(D,{})}),document.getElementById("root")),r()}},[[81,1,2]]]);
//# sourceMappingURL=main.a5e31067.chunk.js.map